{"version":3,"sources":["app.js"],"names":["$","promoText","2001","text","2002","2003","2004","2005","2006","2007","2008","seg","track","getTotalLength","count","pos","len","targets","currentTarget","svg","innerHTML","fill","map","e","i","p","getPointAtLength","y","x","join","dp","shift","Math","abs","sign","p1","p2","a","atan2","ship","setAttribute","PI","requestAnimationFrame","render","circles","forEach","querySelectorAll","onclick","c","c1","parentNode","classList","toggle","push","parentElement","lastChild","root","textContent","div","document","getElementById","selectedIndex","ready","on","this","value","trigger","mCustomScrollbar","theme","scrollButtons","enable"],"mappings":"aAAAA,EAAE,WAAFA,IAAEC,EAAW,CAGZC,KAAK,CAACC,KAAK,gUADZC,KAAMH,CAAAA,KAAAA,gUACLI,KAAA,CAAAF,KAAMA,gUACNG,KAAA,CAAAH,KAAMA,gUACNI,KAAA,CAAAJ,KAAMA,gUACNK,KAAA,CAAAL,KAAMA,gUACNM,KAAA,CAAAN,KAAMA,gUACNO,KAAA,CAAAP,KAAMA,iUAKPQ,EACUC,MAAMC,iBADZC,EAAJC,EACIC,EADJC,EAEUD,CAAAA,GAFVE,EAAAD,EAAA,GAAAE,IAAAC,WAKIF,MAhBJ,GAgB4BG,KAL5B,GAAAC,IAAA,SAAAC,EAAAC,GAQM,IAAIR,EAAML,GAAOa,EAAI,GAAIC,EAAIb,MAAMc,iBAAiBV,GADtDI,MAAAA,0BAAa,CAAqBE,EAAAA,EAAIG,EAAAE,GAAA,WAAUH,EAAA,GAAA,WAAA,uBAC9CR,EAAA,oBAAA,KAAAQ,GAAA,sFACO,KAA0BA,GAAGI,MAAH,KAAWJ,GAAA,gBAK3CK,KAAK,IAKV,SAAIC,IAAJ,IAAIA,EAAKZ,EAAgBH,EAGxBG,KAAAA,IAAAA,GAAAA,GAAgBD,EAAQc,SACvBD,EAAKZ,EAAgBH,QACtBe,EAAAZ,EAAAH,GAEDA,GAAOiB,KAAKC,IAAIH,GAAM,EAAI,EAAIE,KAAKE,KAAKJ,GAExC,IAAAK,EACIC,MAAKxB,iBAAMc,GADfU,EAEIC,MAASC,iBAALvB,EAAwB,GAChCwB,EAA+B,IAA1BC,KAAAA,MAALJ,EAAkBT,EAAAQ,EAAAR,EAAlBS,EAA+BR,EAAAO,EAAAP,GAAAI,KAAAS,GAC/BC,KAAAA,aAAAA,YAAA,aAAAP,EAAAP,EAAA,IAAAO,EAAAR,EAAA,WAAAU,EAAA,KACDK,sBAAAC,GAjBDA,GAoBAC,IAAAA,EAAQC,SAAQC,iBAAA,UAAAF,EAAAC,QAAOE,SAAAA,GAAAA,OAAFC,EAAYD,QAAA,SAAAxB,GAC/BqB,EAAAA,QAAQC,SAAAA,GAAAA,OAAQI,EAAAC,WAAAC,UAAAC,OAAA,SAAAJ,IAAAC,KAAAhC,EAAAoC,MAAMJ,EAAGC,QAAAA,KAAT,IAChBjC,EADA+B,EAAAM,cACaC,UACTC,SAASF,eAAb,QACInD,UAAaoD,EAAjBpD,EAAAsD,aAAAtD,KACA,IAAIuD,EAAAA,SAAMC,eAASC,UACfF,EAAAA,QAAItC,EAAJyC,eAA0B1D,KAAKsD,EAAAA,YAC9BzD,EAAA4B,GAAIA,WAAWgC,aAOtB5D,EAAA2D,UAAAG,MAAA,WACA9D,EAAE2D,UAAUG,eAEX9D,EAFD,WAAA+D,GAAA,SAAA,WAGI/D,EAAF,qBAA0BgE,KAAYC,MAAA,MAAAC,QAAA,aAQtClE,EAAAA,QAAE+D,GAASI,OAAAA,WACTC,EAAAA,SAAMD,iBADoB,CAEtBE,MAAAA,eACEC,cAAO,CADKA,QAAA","file":"app.js","sourcesContent":["$(function() {\n\nconst promoText = {\n 2001:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2001 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2002:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2002 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2003:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2003 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2004:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2004 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2005:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2005 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2006:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2006 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2007:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2007 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n 2008:{text:\"<h3>Расширение возможностей</h3> <span>24 августа 2008 г</span> <p>ВЛБАНК (ОАО) перешёл на промышленную эксплуатацию автоматизированной банковской системы ЦФТ-Банк, современного масштабируемого решения, позволившего банку перестроить свой  технологический цикл и расширить потенциальные возможности для развития.</p>\"},\n}\n\nlet count = 8,\n    len = track.getTotalLength(),\n    seg = len / (count + 1),\n    pos = seg,\n    targets = [seg],\n    currentTarget = targets[0];\n\nsvg.innerHTML += Array(count).fill(0).map((e, i) => {\n      let len = seg * (i + 1), p = track.getPointAtLength(len);\n      return \"<g transform=translate(\"+[p.x, p.y]+\") class\"+(i?'':'=active')+\">\" +\n             \"  <circle data-len=\"+len+\" r=11 data-year=\"+(2001+i)+\"></circle>\" +\n             \"  <rect rx=5 ry=5 x=-20 y=16 width=40 height=19></rect>\" +\n             \"  <text y=30 id='\"+(2001+i)+\"'>\"+(2001+i)+\"</text>\"+\n             \"</g>\";\n    }).join('');\n\nrender();\n\nfunction render() {\n  let dp = currentTarget - pos;\n\n  if (Math.abs(dp) < 1 && targets.length) {\n  \tcurrentTarget = targets.shift();\n    dp = currentTarget - pos;\n  }\n\n  pos += Math.abs(dp) < 1 ? 0 : Math.sign(dp);\n\n  let p1 = track.getPointAtLength(pos),\n      p2 = track.getPointAtLength(pos + 1),\n      a = Math.atan2(p2.y - p1.y, p2.x - p1.x) * 180 / Math.PI;\n  ship.setAttribute(\"transform\", \"translate(\"+p1.x+\",\"+p1.y+\")rotate(\"+a+\")\");\n  requestAnimationFrame(render);\n}\n\nlet circles = document.querySelectorAll('circle');\ncircles.forEach(c => c.onclick = e => {\n  circles.forEach(c1 => c1.parentNode.classList.toggle('active', c === c1));\n  targets.push(+c.dataset.len);\n  let root = c.parentElement;\n  let text =  root.lastChild;\n  let div = document.getElementById('text');\n      div.innerHTML = promoText[text.textContent].text;\n       var x=document.getElementById('select')\n       x.options[x.selectedIndex].text= text.textContent;\n       $(x).niceSelect('update');\n\n});\n\n\n//Select\n$(document).ready(function() {\n  $('select').niceSelect();\n});\n  $('#select').on(\"change\", function () {\n            $('circle[data-year=\"' + this.value + '\"]').trigger('click');\n        });\n\n\n})\n\n$(window).on(\"load\",function(){\n  $(\".list\").mCustomScrollbar({\n  \t theme:\"minimal-dark\",\n        scrollButtons:{\n          enable:false\n        }\n  });\n});\n"]}